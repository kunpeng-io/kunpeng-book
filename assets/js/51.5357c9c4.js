(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{377:function(s,a,t){"use strict";t.r(a);var n=t(4),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongodb"}},[s._v("#")]),s._v(" MongoDB")]),s._v(" "),a("h2",{attrs:{id:"什么是mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是mongodb"}},[s._v("#")]),s._v(" 什么是MongoDB？")]),s._v(" "),a("p",[s._v("MongoDB是一个开源的文档数据库，它使用JSON格式的文档来存储数据。它是一个非关系型数据库，也被称为NoSQL数据库。MongoDB旨在为开发人员提供一个灵活、可扩展和高性能的数据库解决方案。")]),s._v(" "),a("h2",{attrs:{id:"mongodb的优势"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongodb的优势"}},[s._v("#")]),s._v(" MongoDB的优势")]),s._v(" "),a("ul",[a("li",[s._v("灵活性：MongoDB的数据模型非常灵活，可以存储不同类型和格式的数据。")]),s._v(" "),a("li",[s._v("可扩展性：MongoDB可以轻松地扩展到多个节点，以支持更大的数据集和更高的吞吐量。")]),s._v(" "),a("li",[s._v("高性能：MongoDB使用内存映射文件技术来实现高性能读取操作，并支持复杂查询和聚合操作。")])]),s._v(" "),a("h2",{attrs:{id:"mongodb的最佳实践"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mongodb的最佳实践"}},[s._v("#")]),s._v(" MongoDB的最佳实践")]),s._v(" "),a("p",[s._v("以下是使用MongoDB时应遵循的一些最佳实践：")]),s._v(" "),a("ul",[a("li",[s._v("设计文档模型：在设计MongoDB文档时，请考虑查询需求和数据访问模式。尽可能地将相关数据放在同一个文档中，以减少查询时的数据检索。")]),s._v(" "),a("li",[s._v("选择正确的索引：索引是MongoDB查询性能的关键。请根据查询需求选择适当的索引类型，并确保索引覆盖查询所需的所有字段。")]),s._v(" "),a("li",[s._v("使用复制集：MongoDB的复制集提供了高可用性和数据冗余功能。请使用复制集来确保数据的可靠性和持久性。")]),s._v(" "),a("li",[s._v("使用分片：当数据集增长时，使用MongoDB的分片功能可以轻松地扩展到多个节点。请在数据量增加时考虑使用分片。")])]),s._v(" "),a("h1",{attrs:{id:"在spring-boot中使用mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在spring-boot中使用mongodb"}},[s._v("#")]),s._v(" 在Spring Boot中使用MongoDB")]),s._v(" "),a("h2",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),a("p",[s._v("MongoDB是一个流行的NoSQL数据库，它使用文档存储数据。Spring Boot提供了与MongoDB集成的支持，使得在Spring Boot应用中使用MongoDB变得非常容易。")]),s._v(" "),a("h2",{attrs:{id:"步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤"}},[s._v("#")]),s._v(" 步骤")]),s._v(" "),a("h3",{attrs:{id:"步骤1-添加mongodb依赖项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤1-添加mongodb依赖项"}},[s._v("#")]),s._v(" 步骤1: 添加MongoDB依赖项")]),s._v(" "),a("p",[s._v("在"),a("code",[s._v("pom.xml")]),s._v("文件中添加以下依赖项：")]),s._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("org.springframework.boot"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("spring-boot-starter-data-mongodb"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"步骤2-配置mongodb连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤2-配置mongodb连接"}},[s._v("#")]),s._v(" 步骤2: 配置MongoDB连接")]),s._v(" "),a("p",[s._v("在"),a("code",[s._v("application.properties")]),s._v("文件中添加以下配置：")]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("spring.data.mongodb.uri")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("mongodb://localhost:27017/mydatabase")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("其中"),a("code",[s._v("mydatabase")]),s._v("是要连接的数据库名称。")]),s._v(" "),a("h3",{attrs:{id:"步骤3-创建实体类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤3-创建实体类"}},[s._v("#")]),s._v(" 步骤3: 创建实体类")]),s._v(" "),a("p",[s._v("创建一个Java类来表示MongoDB中的文档。该类应该使用"),a("code",[s._v("@Document")]),s._v("注解进行注释，并且应该有一个"),a("code",[s._v("@Id")]),s._v("注解的属性来表示MongoDB文档的ID。")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Document")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("collection "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"users"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Id")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" email"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// getters and setters")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h3",{attrs:{id:"步骤4-创建mongodb存储库接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤4-创建mongodb存储库接口"}},[s._v("#")]),s._v(" 步骤4: 创建MongoDB存储库接口")]),s._v(" "),a("p",[s._v("创建一个接口来定义MongoDB存储库。该接口应该扩展"),a("code",[s._v("MongoRepository")]),s._v("接口，并且应该指定实体类和ID类型。")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserRepository")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MongoRepository")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"步骤5-使用mongodb存储库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#步骤5-使用mongodb存储库"}},[s._v("#")]),s._v(" 步骤5: 使用MongoDB存储库")]),s._v(" "),a("p",[s._v("现在你可以在你的应用程序中使用"),a("code",[s._v("UserRepository")]),s._v("来访问MongoDB。例如，下面的代码将保存一个新的用户到MongoDB：")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Autowired")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UserRepository")]),s._v(" userRepository"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("saveUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("User")]),s._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    userRepository"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("save")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);